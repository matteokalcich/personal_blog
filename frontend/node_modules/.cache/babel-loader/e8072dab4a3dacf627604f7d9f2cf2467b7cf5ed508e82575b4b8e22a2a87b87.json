{"ast":null,"code":"import React,{useState,useRef}from'react';import Header from'../components/Header';import{useNavigate}from'react-router-dom';import Post from'../components/Post';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DettagliPost(){const[idPostVisualizzare,setIdPostVisualizzare]=useState('');const[resultRequest,setResultRequest]=useState('');const[error,setError]=useState('');// Funzione per eseguire la ricerca dei post\nconst filterRequest=async()=>{try{// Effettua la richiesta GET al server\nconst response=await fetch(`http://localhost:3000/api/filterRequest?ricercaParola=test&ricercaAnno=2024&idPostVisualizzare=${idPostVisualizzare}`,{method:'GET',headers:{'Content-Type':'application/json'}});const data=await response.json();if(response.status===200){console.log('Test: ',data.result);setResultRequest(data.result);// Aggiorna lo stato con i risultati della query\n}else{console.log('Error: ',data.message);setError(data.message);// Gestisci l'errore\nsetResultRequest('');}}catch(error){console.error('Errore durante il filtro:',error);setError('Errore del server.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"secondaParte\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"secondaParte_superiore\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3001/\",children:/*#__PURE__*/_jsx(\"button\",{id:\"secondaParteBtn\",type:\"button\",children:\"Torna alla pagina principale\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:filterRequest,children:\"Test\"}),/*#__PURE__*/_jsx(\"h1\",{children:resultRequest})]})})]});}export default DettagliPost;","map":{"version":3,"names":["React","useState","useRef","Header","useNavigate","Post","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DettagliPost","idPostVisualizzare","setIdPostVisualizzare","resultRequest","setResultRequest","error","setError","filterRequest","response","fetch","method","headers","data","json","status","console","log","result","message","children","className","href","id","type","onClick"],"sources":["/Users/matteo/Documents/personal_blog/frontend/src/site/react/pages/DettagliPost.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport Header from '../components/Header';\nimport { useNavigate } from 'react-router-dom';\nimport Post from '../components/Post';\n\nfunction DettagliPost() {\n\n    const [idPostVisualizzare, setIdPostVisualizzare] = useState('');\n    const [resultRequest, setResultRequest] = useState('');\n    const [error, setError] = useState('');\n\n\n    // Funzione per eseguire la ricerca dei post\n    const filterRequest = async () => {\n        try {\n        // Effettua la richiesta GET al server\n        const response = await fetch(\n            `http://localhost:3000/api/filterRequest?ricercaParola=test&ricercaAnno=2024&idPostVisualizzare=${idPostVisualizzare}`,\n            {\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' },\n            }\n        );\n\n        const data = await response.json();\n\n        if (response.status === 200) {\n\n            console.log('Test: ', data.result);\n            setResultRequest(data.result);  // Aggiorna lo stato con i risultati della query\n\n            \n        } else {\n            console.log('Error: ', data.message);\n            setError(data.message);  // Gestisci l'errore\n            setResultRequest('');\n        }\n        } catch (error) {\n        console.error('Errore durante il filtro:', error);\n        setError('Errore del server.');\n        }\n    };\n    \n    return(\n\n        <>\n\n        <Header />\n\n        <div className=\"secondaParte\">\n\n            \n            <div className=\"secondaParte_superiore\">\n\n                <a href=\"http://localhost:3001/\"><button id=\"secondaParteBtn\" type=\"button\">Torna alla pagina principale</button></a>\n                <button type=\"button\" onClick={filterRequest}>Test</button>\n                \n                <h1>{resultRequest}</h1>\n            </div>\n            \n        </div>\n\n        </>\n    );\n}\n\nexport default DettagliPost;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtC,QAAS,CAAAC,YAAYA,CAAA,CAAG,CAEpB,KAAM,CAACC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAACc,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAGtC;AACA,KAAM,CAAAkB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACJ;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CACxB,kGAAkGR,kBAAkB,EAAE,CACtH,CACAS,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAC9C,CACJ,CAAC,CAED,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAElC,GAAIL,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CAEzBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEJ,IAAI,CAACK,MAAM,CAAC,CAClCb,gBAAgB,CAACQ,IAAI,CAACK,MAAM,CAAC,CAAG;AAGpC,CAAC,IAAM,CACHF,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEJ,IAAI,CAACM,OAAO,CAAC,CACpCZ,QAAQ,CAACM,IAAI,CAACM,OAAO,CAAC,CAAG;AACzBd,gBAAgB,CAAC,EAAE,CAAC,CACxB,CACA,CAAE,MAAOC,KAAK,CAAE,CAChBU,OAAO,CAACV,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDC,QAAQ,CAAC,oBAAoB,CAAC,CAC9B,CACJ,CAAC,CAED,mBAEIT,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eAEAxB,IAAA,CAACJ,MAAM,GAAE,CAAC,cAEVI,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAD,QAAA,cAGzBtB,KAAA,QAAKuB,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eAEnCxB,IAAA,MAAG0B,IAAI,CAAC,wBAAwB,CAAAF,QAAA,cAACxB,IAAA,WAAQ2B,EAAE,CAAC,iBAAiB,CAACC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,8BAA4B,CAAQ,CAAC,CAAG,CAAC,cACrHxB,IAAA,WAAQ4B,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEjB,aAAc,CAAAY,QAAA,CAAC,MAAI,CAAQ,CAAC,cAE3DxB,IAAA,OAAAwB,QAAA,CAAKhB,aAAa,CAAK,CAAC,EACvB,CAAC,CAEL,CAAC,EAEJ,CAAC,CAEX,CAEA,cAAe,CAAAH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}